(function(e){function t(t){for(var a,n,o=t[0],l=t[1],d=t[2],u=0,c=[];u<o.length;u++)n=o[u],i[n]&&c.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);p&&p(t);while(c.length)c.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,n=1;n<r.length;n++){var o=r[n];0!==i[o]&&(a=!1)}a&&(s.splice(t--,1),e=l(l.s=r[0]))}return e}var a={},n={app:0},i={app:0},s=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-40ed732c":"20633b7e"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={"chunk-40ed732c":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise(function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-40ed732c":"9a828fd2"}[e]+".css",i=l.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var d=s[o],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===a||u===i))return t()}var c=document.getElementsByTagName("style");for(o=0;o<c.length;o++){d=c[o],u=d.getAttribute("data-href");if(u===a||u===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.request=a,delete n[e],p.parentNode.removeChild(p),r(s)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){n[e]=0}));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise(function(t,r){a=i[e]=[t,r]});t.push(a[2]=s);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(e),d=function(t){u.onerror=u.onload=null,clearTimeout(c);var r=i[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+a+": "+n+")");s.type=a,s.request=n,r[1](s)}i[e]=void 0}};var c=setTimeout(function(){d({type:"timeout",target:u})},12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(r,a,function(t){return e[t]}.bind(null,a));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var c=0;c<d.length;c++)t(d[c]);var p=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0361":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d"),r("7e6a");var a=r("7487");r("98d6"),r("2411");a["a"].defaults.styling="bootstrap4",a["a"].defaults.icons="fontawesome5",window.PNotify=a["a"],window._=r("2ef0");try{window.Popper=r("cb7e").default,window.$=window.jQuery=r("a881"),r("4989")}catch(Ze){}window.axios=r("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var n=r("2b0e"),i=r("8c4f"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.authenticated?r("div",{class:{"show-sidebar":e.showSidebar,"h-100":!0}},[r("MainNavbar",{attrs:{user:e.user,handleLogout:e.handleLogout}}),r("Sidebar",{attrs:{user:e.user,handleLogout:e.handleLogout,showSidebar:e.showSidebar,menu:e.menu}}),r("main",{staticClass:"h-100",attrs:{id:"content-wrapper"}},[r("div",{staticClass:"py-4"},[r("router-view",{attrs:{id:"main-wrapper"}})],1)])],1):e._e()},o=[],l=(r("a481"),r("cebc")),d=(r("96cf"),r("3b8d")),u=r("2f62"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-md navbar-light navbar-laravel fixed-top"},[a("div",{staticClass:"container-fluid"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{path:"/"}}},[e._v("\n      Textiles Hernandez\n      "),a("img",{staticClass:"logo",attrs:{src:r("8d1b"),alt:"Logo"}})]),a("button",{staticClass:"navbar-toggler",attrs:{type:"button"},on:{click:e.toggleSidebar}},[a("span",{staticClass:"navbar-toggler-icon"})]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("div",{staticClass:"navbar-nav mr-auto"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-secondary",on:{click:e.toggleSidebar}},[a("i",{staticClass:"fas fa-bars"})]),a("button",{staticClass:"btn btn-dark",on:{click:function(){return e.$router.go(-1)}}},[a("i",{staticClass:"fas fa-arrow-left"})]),e.offices.length>1?a("div",{staticClass:"dropdown"},[a("a",{staticClass:"btn dropdown-toggle btn-light",attrs:{href:"#",role:"button",id:"navbarOffices","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(e._s(e.selectedOffice.name||"Sucursales"))]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarOffices"}},e._l(e.offices,function(t){return a("button",{key:"office-list-"+t.id,staticClass:"dropdown-item pointer",class:{active:e.selectedOffice.id==t.id},on:{click:function(r){return e.selectOffice(t)}}},[e._v(e._s(t.name))])}),0)]):e._e()])]),a("div",{staticClass:"navbar-nav ml-auto"},[a("div",{staticClass:"dropdown"},[a("a",{staticClass:"btn dropdown-toggle text-dark",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("Hola, "+e._s(e.user.name))]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:{path:"/ajustes"}}},[e._v("Ajustes")]),a("button",{staticClass:"dropdown-item pointer",on:{click:e.handleLogout}},[e._v("Cerrar Sesion")])],1)])])])],1)])},p=[],m={props:{user:{required:!0},handleLogout:{required:!0}},methods:Object(l["a"])({},Object(u["b"])("app",["toggleSidebar","setOffices","selectOffice"])),computed:Object(l["a"])({},Object(u["c"])("app",["offices","selectedOffice"])),mounted:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setOffices();case 2:this.offices.length&&this.selectOffice(this.offices[0]);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},y=m,f=(r("d997"),r("2877")),h=Object(f["a"])(y,c,p,!1,null,"34f6eccc",null),b=h.exports,g=(r("7f7f"),r("bc17"),{props:{item:{required:!0}},data:function(){return{show:!1}},methods:Object(l["a"])({toggleChildrenMenu:function(){this.show=!this.show},shouldToggleSidebar:function(){window.innerWidth<992&&this.toggleSidebar()}},Object(u["b"])("app",["toggleSidebar"])),render:function(e){return this.item.children?e("div",[e("a",{class:"nav-link pointer",on:{click:this.toggleChildrenMenu}},[this.item.name,this.show?e("i",{class:"fas fa-arrow-up float-right"}):e("i",{class:"fas fa-arrow-down float-right"})]),this.show?this.item.children.map(function(t){return e(g,{attrs:{item:t},class:"pl-5"})}):null]):e("router-link",{attrs:{to:this.item.to},class:"nav-link",nativeOn:{click:this.shouldToggleSidebar}},[this.item.name])}}),v={functional:!0,render:function(e,t){var r=t.props;return r.offices.map(function(t){return e("button",{class:{"dropdown-item":!0,pointer:!0},on:{click:function(){return r.clickHandler(t)}}},[t.name])})}},k={props:{user:{required:!0},handleLogout:{required:!0},showSidebar:{default:!1},menu:{default:function(){return[]}}},computed:Object(l["a"])({},Object(u["c"])("app",["offices","selectedOffice"])),methods:Object(l["a"])({},Object(u["b"])("app",["selectOffice"])),render:function(e){return e("div",{attrs:{id:"sidebar-wrapper"},class:{"show-sidebar":this.showSidebar}},[e("div",{class:"h-100 sidebar-component"},[e("nav",{class:"nav flex-column"},[this.menu.map(function(t){return e(g,{attrs:{item:t}})}),this.offices.length>1?e("div",{class:"dropdown"},[e("a",{class:"dropdown-toggle nav-link d-block d-md-none",attrs:{href:"#",role:"button",id:"sidebarOffices","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[this.selectedOffice.name||"Sucursales"]),e("div",{class:"dropdown-menu",attrs:{"aria-labelledby":"sidebarOffices"}},[e(v,{attrs:{offices:this.offices,clickHandler:this.selectOffice}})])]):null,e("a",{class:"nav-link",on:{click:this.handleLogout}},["Cerrar Sesión",e("i",{class:"fas fa-sign-out-alt float-right"})])])])])}},w=k,C={components:{MainNavbar:b,Sidebar:w},created:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.isAuthenticated();case 2:if(e.sent){e.next=4;break}this.logout({callback:this.redirectToLogin});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:Object(l["a"])({redirectToLogin:function(){this.$router.replace("/login")},handleLogout:function(){this.logout({callback:this.redirectToLogin})}},Object(u["b"])("auth",["isAuthenticated","logout"])),computed:Object(l["a"])({},Object(u["c"])("auth",["authenticated","user"]),Object(u["c"])("app",["showSidebar","menu"]))},O=C,S=(r("b0d6"),Object(f["a"])(O,s,o,!1,null,"3528a062",null)),x=S.exports,j=r("5176"),q=r.n(j),D=r("a4bb"),N=r.n(D),E=(r("ac6a"),r("768b")),B=r("ed08"),T={props:{field:{required:!0}},render:function(e){var t=this;switch(this.field.render_type){case"text":case"password":case"email":return e("input",{attrs:{id:this.field.id,type:this.field.render_type,autofocus:this.field.autofocus,required:this.field.required,placeholder:this.field.placeholder},class:"form-control",domProps:{value:this.field.value},on:{input:function(e){return t.field.onChange(t.field.id,e.target.value)}}});case"number":case"color":return e("input",{attrs:{id:this.field.id,type:this.field.render_type,autofocus:this.field.autofocus,required:this.field.required,step:"any"},class:"form-control",domProps:{value:this.field.value},on:{change:function(e){return t.field.onChange(t.field.id,e.target.value)}}});case"textarea":return e("textarea",{attrs:{id:this.field.id,autofocus:this.field.autofocus,required:this.field.required,rows:"3"},class:"form-control",domProps:{value:this.field.value},on:{change:function(e){return t.field.onChange(t.field.id,e.target.value)}}});case"select":return e("select",{attrs:{id:this.field.id,autofocus:this.field.autofocus,required:this.field.required},class:"form-control",domProps:{value:this.field.value},on:{change:function(e){return t.field.onChange(t.field.id,e.target.value)}}},[e("option",{attrs:{value:""}},["Selecciona una opción"]),this.field.values.map(function(t){return e("option",{domProps:{value:t.id}},[t.value])})]);case"checkbox":return e("div",{class:"form-check"},[e("label",{class:"form-check-label"},[e("input",{attrs:{id:this.field.id,type:"checkbox",required:this.field.required},class:"form-check-input",domProps:{checked:this.field.value},on:{change:function(e){return t.field.onChange(t.field.id,e.target.checked)}}}),this.field.props.label])]);case"custom":return e(this.field.renderer,{attrs:{id:this.field.id,current:this.field.value,required:this.field.required,changeHandler:this.field.onChange},props:Object(l["a"])({},this.field.props)});default:return null}}},F=T,I={props:{errors:{default:function(){return[]}},fields:{required:!0},handleSubmit:{required:!0}},watch:{errors:function(e){if(e.length){var t=document.getElementById(e[0].id);e.forEach(function(e){t||(t=document.getElementById(e.id)),B["Alert"].error({title:e.key,text:e.message})}),"input"===t.nodeName.toLowerCase()&&t.focus()}}},render:function(e){var t=this;return e("form",{on:{submit:function(e){e.preventDefault(),t.handleSubmit()}},attrs:{autocomplete:"off"}},[this.fields.map(function(t){return t.render_type?e("div",{class:"form-group"},[e("label",{attrs:{for:t.id}},[t.display_name]),e(F,{attrs:{field:t},on:{change:t.onChange}})]):null}),e("div",{class:"form-group text-right"},[e("button",{class:"btn btn-warning",attrs:{type:"button"},on:{click:function(){return t.$router.go(-1)}}},["Cancelar"]),e("button",{class:"btn btn-primary"},["Guardar"])])])}},P=I,A={created:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="ajustes",e.next=3,this.setLocalEntityInfo(t);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{retries:3,fields:[],item:{},primary_field:null,display_name:null,url:null,saving:!1,error:{}}},methods:Object(l["a"])({onSubmitHandler:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.saving){e.next=2;break}return e.abrupt("return");case 2:return this.saving=!0,e.next=5,Object(B["j"])({url:"/api".concat(this.url,"/").concat(this.user.id,"/settings"),method:"put",data:this.item});case 5:t=e.sent,r=Object(E["a"])(t,2),a=r[0],r[1],this.saving=!1,a?a.response&&(this.error=a.response.data.error,401==a.response.status&&(this.retries--,this.retries<1?this.logout({callback:this.redirectToLogin}):PNotify.notice("Intentos Restantes: "+this.retries))):this.setState({user:Object(l["a"])({},this.user,{name:this.item.name,email:this.item.email})});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onChangeHandler:function(e,t){this.error={},this.item[e]=t},getFormFields:function(){var e=[],t=this;return this.fields.forEach(function(r){e.push(Object(l["a"])({},r,{value:t.item[r.id]?t.item[r.id]:r.default,onChange:t.onChangeHandler}))}),e},generateItem:function(e){var t={},r=this;return N()(e).forEach(function(a){var n=e[a];n.auto_generated||(t[a]=r.user[a])}),t},generateFields:function(e){var t=[];return N()(e).forEach(function(r){t.push(Object(l["a"])({},e[r],{id:r}))}),t},setLocalEntityInfo:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var r,a,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getEntityInfo({entity:t});case 2:r=e.sent,a=r.primary_field,n=r.single_name,i=r.url,s=r.model,this.url=i,this.display_name=n,this.primary_field=a,this.fields=this.generateFields(s),this.item=this.generateItem(s);case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),redirectToLogin:function(){this.$router.replace("/login")},getErrors:function(){var e=this,t=[];return this.fields.forEach(function(r){e.error[r.id]&&e.error[r.id].forEach(function(e){t.push({id:r.id,key:r.display_name,message:e})})}),t},getItem:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.item=q()({},this.user);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Object(u["b"])("auth",["setState","logout"]),Object(u["b"])("entity",["getEntityInfo"])),computed:Object(l["a"])({},Object(u["c"])("auth",["user"])),render:function(e){return e("div",{class:"container-fluid"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("div",{class:"card-title"},[e("h2",["Ajustes"])]),e(P,{attrs:{handleSubmit:this.onSubmitHandler,fields:this.getFormFields(),errors:this.getErrors()}})])])])}},R=A;n["a"].use(i["a"]);var L={functional:!0,render:function(e){return e("router-view")}},M={functional:!0,render:function(e){return e("div")}},H=[{path:"/",component:x,children:[{path:"",component:M},{path:"/home",component:M,display_name:"Inicio"},{path:"/gestion",component:L,display_name:"Gestion",children:[{path:"/colores",redirect:"/colores/lista",display_name:"Colores"},{path:"/disenos",redirect:"/disenos/lista",display_name:"Diseños"},{path:"/telas",redirect:"/telas/lista",display_name:"Telas"},{path:"/modelos",redirect:"/modelos/lista",display_name:"Modelos"},{path:"/sucursales",redirect:"/sucursales/lista",display_name:"Sucursales"},{path:"/clientes",redirect:"/clientes/lista",display_name:"Clientes"},{path:"/proveedores",redirect:"/proveedores/lista",display_name:"Proveedores"},{path:"/usuarios",redirect:"/usuarios/lista",display_name:"Usuarios"}]},{path:"/ajustes",component:R,display_name:"Ajustes"}]},{path:"/login",name:"login",component:function(){return r.e("chunk-40ed732c").then(r.bind(null,"a55b"))}},{path:"*",redirect:"/"}],U=new i["a"]({mode:"history",routes:H}),V=r("bd86"),$={authenticated:localStorage.getItem("authenticated")?JSON.parse(localStorage.authenticated):null,user:localStorage.getItem("user")?JSON.parse(localStorage.user):null,user_id:localStorage.getItem("user_id")?JSON.parse(localStorage.user_id):null,token:localStorage.getItem("token")||null},J={},G={isAuthenticated:function(e){var t=e.state;return!!(t.authenticated&&t.user&&t.user_id&&t.token)},login:function(e,t){var r=e.commit,a=t.user,n=t.token,i=t.callback;r("login",{user:a,token:n}),i&&i()},logout:function(e,t){var r=e.commit,a=t.callback;r("logout"),a&&a()},setState:function(e,t){var r=e.commit;N()(t).forEach(function(e){r("setState",Object(V["a"])({},e,t[e]))})}},W={setState:function(e,t){Object(B["l"])(e,t)},login:function(e,t){var r=t.user,a=t.token;Object(B["l"])(e,{authenticated:!0,user_id:r.id,token:a,user:r})},logout:function(e){Object(B["l"])(e,{authenticated:!1,user_id:null,token:null,user:null}),localStorage.clear()}},z={namespaced:!0,state:$,getters:J,actions:G,mutations:W},X=function e(t){var r=[];return t.forEach(function(t){if(t.children&&t.display_name){var a=e(t.children);a.length&&r.push({name:t.display_name,children:a})}else if(t.display_name)r.push({to:t.path,name:t.display_name});else if(t.children){var n=e(t.children);n.length&&(r=r.concat(n))}}),r},Q={showSidebar:window.innerWidth>991,selectedOffice:{},offices:[],menu:X(H)},K={},Y={setOffices:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var r,a,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(B["j"])({url:"/api/offices"});case 3:a=e.sent,n=Object(E["a"])(a,2),i=n[0],s=n[1],i||r("setOffices",{offices:s});case 8:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),selectOffice:function(e,t){var r=e.commit;r("selectOffice",t)},toggleSidebar:function(e){var t=e.commit;t("toggleSidebar")}},Z={selectOffice:function(e,t){e.selectedOffice=t},setOffices:function(e,t){var r=t.offices;e.offices=r},toggleSidebar:function(e){e.showSidebar=!e.showSidebar}},ee={namespaced:!0,state:Q,getters:K,actions:Y,mutations:Z},te=r("59ad"),re=r.n(te),ae=(r("386d"),r("c5f6"),r("28a5"),{name:"Color",display_name:"Colores",display_single_name:"Color",url:"colors",field_configurations:{form:[{key:"name",render_type:"text",attributes:{required:!0,placeholder:"Ejemplo: Blanco"}},{key:"value",render_type:"color",default:"#ffffff",attributes:{required:!0}}],list:{order:["id","name","value"],fields:{value:{formatter:B["ColorBox"]}},showEditButton:!0,showDeleteButton:!0}},fields:{id:{type:Number,is_primary:!0,auto_generated:!0,display_name:"ID"},name:{type:String,display_name:"Nombre",required:!0},value:{type:String,display_name:"Color",required:!0,default:"#ffffff"}}}),ne=ae,ie={name:"Customer",display_name:"Clientes",display_single_name:"Cliente",url:"customers",field_configurations:{form:[{key:"name",render_type:"text",attributes:{required:!0,placeholder:"Ejemplo: Carlos Rivera"}},{key:"address",render_type:"text"},{key:"telephone",render_type:"text"},{key:"mobilephone",render_type:"text"},{key:"email",render_type:"text"},{key:"credit_days",render_type:"number"},{key:"comments",render_type:"textarea"}],list:{order:["id","name","address","telephone","mobilephone","email","credit_days","comments"],fields:{credit_days:{attributes:{class:{"text-center":!0}}}},showEditButton:!0,showDeleteButton:!0},report:{order:["id","name","balance.total","address","telephone","mobilephone","email","credit_days","comments"],fields:{balance_id:{formatter:B["CurrencyFormatter"],attributes:{class:{"text-right":!0}}}}}},fields:{id:{type:Number,is_primary:!0,auto_generated:!0,display_name:"ID"},name:{type:String,display_name:"Nombre",required:!0},balance_id:{type:String,display_name:"Saldo",auto_generated:!0,is_primary:!0},address:{type:String,display_name:"Dirección"},telephone:{type:String,display_name:"Teléfono"},mobilephone:{type:String,display_name:"Celular"},email:{type:String,display_name:"Correo"},credit_days:{type:Number,display_name:"Dias de crédito"},comments:{type:String,display_name:"Observaciones"}}},se=ie,oe={name:"Design",display_name:"Diseños",display_single_name:"Diseño",url:"designs",field_configurations:{form:[{key:"name",render_type:"text",attributes:{required:!0,placeholder:"Ejemplo: Estampado"}}],list:{order:["id","name"],fields:{},showEditButton:!0,showDeleteButton:!0}},fields:{id:{type:Number,is_primary:!0,auto_generated:!0,display_name:"ID"},name:{type:String,display_name:"Nombre",required:!0}}},le=oe,de={name:"FabricPattern",display_name:"Modelos",display_single_name:"Modelo",url:"fabric_patterns",field_configurations:{form:[{key:"sku",render_type:"text",attributes:{placeholder:"Ejemplo: Brush-1234"}},{key:"fabric_id",render_type:"custom",attributes:{required:!0},renderer:qe,props:{entity:"Fabric"}},{key:"design_id",render_type:"custom",renderer:qe,props:{entity:"Design"}},{key:"color_id",render_type:"custom",renderer:qe,props:{entity:"Color"}}],list:{order:["id","sku","fabric.name","design.name","color.name"],fields:{}}},fields:{id:{type:Number,is_primary:!0,auto_generated:!0,display_name:"ID"},sku:{type:String,display_name:"Código"},fabric:{type:Object,entity:"Fabric"},fabric_id:{type:Number,display_name:"Tela"},color:{type:Object,entity:"Fabric"},color_id:{type:Number,display_name:"Color"},design:{type:Object,entity:"Fabric"},design_id:{type:Number,display_name:"Diseño"}}},ue=de,ce={name:"Fabric",display_name:"Telas",display_single_name:"Tela",url:"fabrics",field_configurations:{form:[{key:"name",render_type:"text",attributes:{required:!0,placeholder:"Ejemplo: Brush"}},{key:"buy_price",render_type:"number"},{key:"sell_price",render_type:"number"}],list:{order:["id","name","buy_price","sell_price"],fields:{buy_price:{formatter:B["CurrencyFormatter"],attributes:{class:{"text-right":!0}}},sell_price:{formatter:B["CurrencyFormatter"],attributes:{class:{"text-right":!0}}}},showEditButton:!0,showDeleteButton:!0}},fields:{id:{type:Number,is_primary:!0,auto_generated:!0,display_name:"ID"},name:{type:String,display_name:"Nombre",required:!0},buy_price:{type:Number,display_name:"Precio de Compra"},sell_price:{type:Number,display_name:"Precio de Venta"}}},pe=ce,me=r("691c"),ye=r.n(me),fe=r("8e15"),_e=r.n(fe),he=r("e2c6"),be=r.n(he),ge=r("f686"),ve=r.n(ge),ke={name:"Supplier",display_name:"Proveedores",display_single_name:"Proveedor",url:"suppliers",field_configurations:{form:[{key:"name",render_type:"text",attributes:{required:!0,placeholder:"Ejemplo: Carlos Rivera"}},{key:"address",render_type:"text"},{key:"telephone",render_type:"text"},{key:"mobilephone",render_type:"text"},{key:"email",render_type:"text"},{key:"comments",render_type:"textarea"}],list:{order:["id","name","address","telephone","mobilephone","email","comments"],fields:{},showEditButton:!0,showDeleteButton:!0}},fields:{id:{type:Number,is_primary:!0,auto_generated:!0,display_name:"ID"},name:{type:String,display_name:"Nombre",required:!0},address:{type:String,display_name:"Dirección"},telephone:{type:String,display_name:"Teléfono"},mobilephone:{type:String,display_name:"Celular"},email:{type:String,display_name:"Correo"},comments:{type:String,display_name:"Observaciones"}}},we=ke,Ce={name:"User",display_name:"Usuarios",display_single_name:"Usuario",url:"users",field_configurations:{form:[{key:"name",render_type:"text",attributes:{required:!0,placeholder:"Ejemplo: Carlos Rivera"}},{key:"email",render_type:"email",attributes:{required:!0}},{key:"password",render_type:"password",attributes:{required:!0}},{key:"c_password",render_type:"password",attributes:{required:!0}},{key:"user_type",render_type:"select",props:{values:B["UserTypes"]}},{key:"customer_id",render_type:"custom",renderer:qe,props:{entity:"Customer"}}],list:{order:["id","name","email","user_type"],fields:{user_type:{formatter:B["UserType"]}},showEditButton:!0,showDeleteButton:!0}},fields:{id:{type:Number,is_primary:!0,auto_generated:!0,display_name:"ID"},name:{type:String,display_name:"Nombre",required:!0},email:{type:String,display_name:"Correo",required:!0},password:{type:String,display_name:"Contraseña",required:!0},c_password:{type:String,display_name:"Confirmar Contraseña",auto_generated:!0},user_type:{type:Number,display_name:"Tipo de Usuario",required:!0},customer_id:{type:Number,display_name:"Cliente"}}},Oe=Ce,Se={Color:ne,Customer:se,Design:le,FabricPattern:ue,Fabric:pe,PurchaseArticle:ye.a,Purchase:_e.a,SaleArticle:be.a,Sale:ve.a,Supplier:we,User:Oe},xe=Se,je={props:{changeHandler:{default:function(){return function(){}}},id:{required:!0},entity:{required:!0},current_value:{default:""},required:{default:!1}},watch:{current_value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var r,a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,Object(B["j"])({url:"/api/".concat(xe[this.entity].url,"/search"),params:{id:t}});case 3:r=e.sent,a=Object(E["a"])(r,2),n=a[0],i=a[1],n||this.selectItem(i.id,i.value);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},data:function(){return{search:"",value:null,results:[]}},methods:{debounceHandler:_.debounce(function(e,t){this[e](t)},600),onChange:function(e){this.search=e.target.value,this.debounceHandler("getItems",this.search)},selectItem:function(e,t){this.search=t,this.value=e,this.changeHandler(this.id,e)},getItems:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var r,a,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=this,this.value=null,this.results=[],t){e.next=6;break}return this.changeHandler(this.id,null),e.abrupt("return");case 6:return e.next=9,Object(B["j"])({url:"/api/".concat(xe[this.entity].url,"/search"),params:{search:t}});case 9:a=e.sent,n=Object(E["a"])(a,2),i=n[0],s=n[1],i||(s.forEach(function(e){e.onClick=r.selectItem}),this.results=s);case 14:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},render:function(e){return e("div",[e("input",{attrs:{type:"text",required:this.required},class:"form-control",domProps:{value:this.search},on:{input:this.onChange}}),this.value?null:e("div",{class:"search-list"},[e("div",{class:"list-group"},[this.results.map(function(t){return e("div",{class:"list-group-item p-2",on:{click:function(){return t.onClick(t.id,t.value)}}},[e("b",[t.value])])})])])])}},qe=je,De=function(){var e=Object(B["NumberFormatted"])(this.total),t=Object(B["NumberFormatted"])(this.balance);return re()(t)>0?e==t?"table-danger":"table-info":"table-success"},Ne={url:"/colors",display_name:"Colores",single_name:"Color",primary_field:"name",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},name:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Nombre"},value:{default:"#ffffff",required:!0,render_type:"color",editable:!0,display_name:"Color"}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"},{display_name:"Color",display:!0,key:"value",formatter:B["ColorBox"]}]},Ee={url:"/designs",display_name:"Diseños",single_name:"Diseño",primary_field:"name",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},name:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Nombre"}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"}]},Be={url:"/fabrics",display_name:"Telas",single_name:"Tela",primary_field:"name",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},name:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Nombre"},buy_price:{default:null,render_type:"number",editable:!0,display_name:"Precio de Compra"},sell_price:{default:null,render_type:"number",editable:!0,display_name:"Precio de Venta"}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"},{display_name:"Precio de Compra",display:!0,key:"buy_price",formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Precio de Venta",display:!0,key:"sell_price",formatter:B["CurrencyFormatter"],render_type:"number"}]},Te={url:"/fabric_patterns",display_name:"Modelos",single_name:"Modelo",primary_field:"sku",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},sku:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Código"},fabric_id:{default:null,required:!0,render_type:"custom",editable:!0,display_name:"Tela",renderer:qe,props:{entity:Be}},design_id:{default:null,render_type:"custom",editable:!0,display_name:"Diseño",renderer:qe,props:{entity:Ee}},color_id:{default:null,render_type:"custom",editable:!0,display_name:"Color",renderer:qe,props:{entity:Ne}}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Código",display:!0,key:"sku"},{display_name:"Tela",display:!0,key:"fabric.name"},{display_name:"Diseño",display:!0,key:"design.name"},{display_name:"Color",display:!0,key:"color.name"}]},Fe={url:"/customers",display_name:"Clientes",single_name:"Cliente",primary_field:"name",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},name:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Nombre"},address:{default:null,render_type:"text",editable:!0,display_name:"Direccion"},telephone:{default:null,render_type:"text",editable:!0,display_name:"Telefono"},mobilephone:{default:null,render_type:"text",editable:!0,display_name:"Celular"},email:{default:null,render_type:"email",editable:!0,display_name:"Correo"},credit_days:{default:null,render_type:"number",editable:!0,display_name:"Dias de Crédito"},comments:{default:null,render_type:"textarea",editable:!0,display_name:"Observaciones"}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"},{display_name:"Direccion",display:!0,key:"address"},{display_name:"Telefono",display:!0,key:"telephone"},{display_name:"Celular",display:!0,key:"mobilephone"},{display_name:"Correo",display:!0,key:"email"},{display_name:"Dias de Credito",display:!0,key:"credit_days"},{display_name:"Observaciones",display:!0,key:"comments"}]},Ie={url:"/customers",display_name:"Saldo de Clientes",fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"},{display_name:"Saldo",display:!0,key:"balance.total",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Direccion",display:!0,key:"address"},{display_name:"Telefono",display:!0,key:"telephone"},{display_name:"Celular",display:!0,key:"mobilephone"},{display_name:"Correo",display:!0,key:"email"},{display_name:"Dias de Credito",display:!0,key:"credit_days"},{display_name:"Observaciones",display:!0,key:"comments"}]},Pe={url:"/suppliers",display_name:"Proveedores",single_name:"Proveedor",primary_field:"name",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},name:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Nombre"},address:{default:null,render_type:"text",editable:!0,display_name:"Direccion"},telephone:{default:null,render_type:"text",editable:!0,display_name:"Telefono"},mobilephone:{default:null,render_type:"text",editable:!0,display_name:"Celular"},email:{default:null,render_type:"email",editable:!0,display_name:"Correo"},credit_days:{default:null,render_type:"number",editable:!0,display_name:"Dias de Crédito"},comments:{default:null,render_type:"textarea",editable:!0,display_name:"Observaciones"}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"},{display_name:"Direccion",display:!0,key:"address"},{display_name:"Telefono",display:!0,key:"telephone"},{display_name:"Celular",display:!0,key:"mobilephone"},{display_name:"Correo",display:!0,key:"email"},{display_name:"Observaciones",display:!0,key:"comments"}]},Ae={url:"/suppliers",display_name:"Saldo de Proveedores",fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"},{display_name:"Saldo",display:!0,key:"balance.total",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Direccion",display:!0,key:"address"},{display_name:"Telefono",display:!0,key:"telephone"},{display_name:"Celular",display:!0,key:"mobilephone"},{display_name:"Correo",display:!0,key:"email"},{display_name:"Dias de Credito",display:!0,key:"credit_days"},{display_name:"Observaciones",display:!0,key:"comments"}]},Re={url:"/users",display_name:"Usuarios",single_name:"Usuario",primary_field:"name",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},name:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Nombre"},email:{default:null,required:!0,render_type:"email",editable:!0,display_name:"Correo"},user_type:{default:null,required:!0,render_type:"select",editable:!0,display_name:"Tipo de Usuario",values:B["UserTypes"]},password:{default:null,required:!0,render_type:"password",display_name:"Contraseña"},c_password:{default:null,required:!0,render_type:"password",display_name:"Confirma Contraseña"}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Nombre",display:!0,key:"name"},{display_name:"Correo",display:!0,key:"email"},{display_name:"Tipo de usuario",display:!0,key:"user_type",formatter:B["UserType"]}]},Le={url:"/users",primary_field:"name",model:{id:{auto_generated:!0},name:{default:null,required:!0,render_type:"text",editable:!0,autofocus:!0,display_name:"Nombre"},email:{default:null,required:!0,render_type:"email",editable:!0,display_name:"Correo"},password:{default:null,render_type:"password",editable:!0,display_name:"Contraseña actual"},n_password:{default:null,render_type:"password",editable:!0,display_name:"Contraseña nueva"},c_password:{default:null,render_type:"password",editable:!0,display_name:"Confirmar Contraseña nueva"}}},Me={url:"/stocks",display_name:"Almacen",single_name:"Almacen",primary_field:"name",showAddButton:!0,model:{id:{auto_generated:!0},fabric_pattern_id:{default:null,required:!0,editable:!0,autofocus:!0,render_type:"custom",display_name:"Modelo",renderer:qe,props:{entity:Te}}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Tela",display:!0,key:"name"},{display_name:"Cantidad Restante",display:!0,key:"remaining_quantity",formatter:B["NumberFormatter"],render_type:"number"}]},He={url:"/sales",display_name:"Ventas",single_name:"Venta",primary_field:"id",showAddButton:!0,showDeleteButton:!0,showEditButton:!0,model:{id:{auto_generated:!0},customer_id:{default:null,render_type:"custom",editable:!0,display_name:"Cliente",renderer:qe,props:{entity:Fe}},currency:{default:1,required:!0,render_type:"select",editable:!0,display_name:"Tipo de Cambio",values:B["currencies"]},update_stock:{default:!0,render_type:"checkbox",display_name:"Actualizar Almacen",props:{label:"Si"}}},fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Fecha",display:!0,key:"created_at",formatter:B["DateFormatter"],render_type:"datetime"},{display_name:"Cliente",display:!0,key:"customer.name"},{display_name:"Moneda",display:!0,key:"currency"},{display_name:"Total",display:!0,key:"total",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Saldo",display:!0,key:"balance",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Comisión",display:!0,key:"commission",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Vendedor",display:!0,key:"user.name"}]},Ue={url:"/sales",getClass:De,display_name:"Reporte de Ventas",fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Fecha",display:!0,key:"created_at",formatter:B["DateFormatter"],render_type:"datetime"},{display_name:"Cliente",display:!0,key:"customer.name"},{display_name:"Moneda",display:!0,key:"currency"},{display_name:"Total",display:!0,key:"total",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Saldo",display:!0,key:"balance",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Comisión",display:!0,key:"commission",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Ganancia",display:!0,key:"revenue",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Vendedor",display:!0,key:"user.name"}]},Ve={url:"/purchases",getClass:De,display_name:"Reporte de Compras",fields:[{display_name:"ID",display:!0,key:"id",is_primary:!0},{display_name:"Fecha",display:!0,key:"created_at",formatter:B["DateFormatter"],render_type:"datetime"},{display_name:"Proveedor",display:!0,key:"supplier.name"},{display_name:"Moneda",display:!0,key:"currency"},{display_name:"Total",display:!0,key:"total",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Saldo",display:!0,key:"balance",is_primary:!0,formatter:B["CurrencyFormatter"],render_type:"number"},{display_name:"Comprador",display:!0,key:"user.name"}]},$e={colores:Ne,disenos:Ee,telas:Be,modelos:Te,clientes:Fe,saldo_clientes:Ie,proveedores:Pe,saldo_proveedores:Ae,usuarios:Re,ajustes:Le,ventas:He,reporte_ventas:Ue,reporte_compras:Ve,almacen:Me},Je={colores:$e.colores,disenos:$e.disenos,telas:$e.telas,modelos:$e.modelos,clientes:$e.clientes,saldo_clientes:$e.saldo_clientes,proveedores:$e.proveedores,saldo_proveedores:$e.saldo_proveedores,usuarios:$e.usuarios,ajustes:$e.ajustes,reporte_ventas:$e.reporte_ventas,reporte_compras:$e.reporte_compras,ventas:$e.ventas,almacen:$e.almacen},Ge={},We={getEntityInfo:function(e,t){var r=e.state,a=t.entity;return r[a]}},ze={},Xe={namespaced:!0,state:Je,getters:Ge,actions:We,mutations:ze};n["a"].use(u["a"]);var Qe={modules:{auth:z,app:ee,entity:Xe}},Ke=new u["a"].Store(Qe),Ye=r("9483");Object(Ye["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,new n["a"]({router:U,store:Ke,render:function(e){return e("router-view")}}).$mount("#app")},"691c":function(e,t){},"7e6a":function(e,t,r){},"8d1b":function(e,t,r){e.exports=r.p+"img/logo-144.74ea420c.png"},"8e15":function(e,t){},adf2:function(e,t,r){},b0d6:function(e,t,r){"use strict";var a=r("0361"),n=r.n(a);n.a},bc17:function(e,t,r){},d997:function(e,t,r){"use strict";var a=r("adf2"),n=r.n(a);n.a},e2c6:function(e,t){},ed08:function(e,t,r){"use strict";r.d(t,"j",function(){return p}),r.d(t,"l",function(){return m});var a=r("f499"),n=r.n(a),i=r("5176"),s=r.n(i),o=r("7618"),l=r("a4bb"),d=r.n(l),u=(r("ac6a"),0),c=!1,p=function e(t){var r=t.method,a=void 0===r?"get":r,n=t.url,i=t.data,s=void 0===i?{}:i,o=t.params,l=void 0===o?null:o;return axios({method:a,url:n,data:s,params:l}).then(function(e){return c&&(c=!1,PNotify.success("Conexiòn restablecida")),[null,e.data]}).catch(function(t){if(t.response){var r=t.response.status;if(u<3&&500==r)return u++,e({method:a,url:n,data:s,params:l});u=0}else c=!0,PNotify.error("Ocurrio un problema en la red... Reintenta en unos segundos");return[t]})},m=function(e,t){d()(t).forEach(function(r){"object"===Object(o["a"])(t[r])?(e[r]=s()({},t[r]),localStorage[r]=n()(t[r])):(e[r]=t[r],localStorage[r]=t[r])})}},f686:function(e,t){}});
//# sourceMappingURL=app.59ce5539.js.map